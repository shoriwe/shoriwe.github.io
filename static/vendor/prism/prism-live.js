(async function(){var b,h,d,e,c,f,g,a;if(!window.Bliss){console.log("Bliss not loaded. Loading remotely from blissfuljs.com");let a=document.createElement("script");a.src="https://blissfuljs.com/bliss.shy.min.js",document.head.appendChild(a),await new Promise(b=>a.onload=b)}b=Bliss,h=Bliss.$,d=Promise.resolve(),document.currentScript&&(e=document.currentScript.src,c=new URL(e).searchParams.get("load"),c!==null&&(f=["../prism-live.css"],c&&f.push(...c.split(/,/).map(a=>/\./.test(a)?a:`prism-live-${a}.js`)),d=Promise.all(f.map(a=>b.load(a,e))))),g=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",a=Prism.Live=class PrismLive{constructor(c){this.source=c,this.sourceType=c.nodeName.toLowerCase(),this.wrapper=b.create({className:"prism-live",around:this.source}),this.sourceType==="textarea"?(this.textarea=this.source,this.code=b.create("code"),this.pre=b.create("pre",{className:this.textarea.className+" no-whitespace-normalization",contents:this.code,before:this.textarea})):(this.pre=this.source,this.pre.classList.add("no-whitespace-normalization"),this.code=b("code",this.pre),this.textarea=b.create("textarea",{className:this.pre.className,value:this.pre.textContent,after:this.pre})),a.all.set(this.textarea,this),a.all.set(this.pre,this),a.all.set(this.code,this),this.pre.classList.add("prism-live"),this.textarea.classList.add("prism-live"),this.source.classList.add("prism-live-source"),self.Incrementable&&new Incrementable(this.textarea),b.bind(this.textarea,{input:a=>this.update(),keyup:a=>{a.key=="Enter"&&(this.insert(this.currentIndent),this.syncScroll())},keydown:c=>{var d,e,f,g,h,i,j,k,l;if(c.key=="Tab"&&!c.altKey)c.preventDefault(),this.tabstops&&this.tabstops.length>0?this.moveCaret(this.tabstops.shift()):this.hasSelection?(d=this.beforeCaret("\n"),e=c.shiftKey,this.selectionStart-=d.length,f=a.adjustIndentation(this.selection,{relative:!0,indentation:e?-1:1}),this.replace(f),e?(g=a.regexp.gm`^${this.indent}`,h=g.test(d),this.selectionStart+=d.length+1-(e+h)):(i=d.length==this.selectionStart,this.selectionStart+=d.length+1+!i)):(j=a.match(this.beforeCaret(),/\S*$/),k=this.expandSnippet(j),k?requestAnimationFrame(()=>b.fire(this.textarea,"input")):this.insert(this.indent));else if(a.pairs[c.key])l=a.pairs[c.key],this.wrapSelection({before:c.key,after:l,outside:!0}),c.preventDefault();else for(let b in a.shortcuts)a.checkShortcut(b,c)&&(a.shortcuts[b].call(this,c),c.preventDefault())},click:a=>{var b=this.getLine(),c=this.value,d=this.selectionStart},"click keyup":a=>{(!a.key||a.key.lastIndexOf("Arrow")>-1)&&(this.tabstops=null)}}),this.textarea.addEventListener("scroll",this,{passive:!0}),b.bind(window,{resize:a=>this.syncStyles()}),requestAnimationFrame(()=>{this.syncStyles();var a=getComputedStyle(this.source);this.pre.style.height=this.source.style.height||a.getPropertyValue("--height"),this.pre.style.maxHeight=this.source.style.maxHeight||a.getPropertyValue("--max-height")}),this.update(),this.lang=(this.code.className.match(/lang(?:uage)?-(\w+)/i)||[,])[1],this.observer=new MutationObserver(a=>{document.activeElement!==this.textarea&&(this.textarea.value=this.pre.textContent)}),this.observe(),this.source.dispatchEvent(new CustomEvent("prism-live-init",{bubbles:!0,detail:this}))}handleEvent(a){a.type==="scroll"&&this.syncScroll()}observe(){return this.observer&&this.observer.observe(this.pre,{childList:!0,subtree:!0,characterData:!0})}unobserve(){this.observer&&(this.observer.takeRecords(),this.observer.disconnect())}expandSnippet(b){var f,g,h,c,e,d;if(!b)return!1;if(f=this.context,b in f.snippets||b in a.snippets?(g=f.snippets[b]||a.snippets[b]):f.snippets.custom&&(g=f.snippets.custom.call(this,b)),g){for(h=[],c=[],e=g;d=a.CARET_INDICATOR.exec(e);)h.push(d.index+1),c.push(e.slice(0,d.index+d[1].length)),e=e.slice(d.index+d[0].length),a.CARET_INDICATOR.lastIndex=0;c.push(e),c=c.join(""),h.length>0&&(h[0]-=c.length),this.delete(b),this.insert(c,{matchIndentation:!0}),this.tabstops=h,this.moveCaret(this.tabstops.shift())}return!!g}get selectionStart(){return this.textarea.selectionStart}set selectionStart(a){this.textarea.selectionStart=a}get selectionEnd(){return this.textarea.selectionEnd}set selectionEnd(a){this.textarea.selectionEnd=a}get hasSelection(){return this.selectionStart!=this.selectionEnd}get selection(){return this.value.slice(this.selectionStart,this.selectionEnd)}get value(){return this.textarea.value}set value(a){this.textarea.value=a}get indent(){return a.match(this.value,/^[\t ]+/m,a.DEFAULT_INDENT)}get currentIndent(){var b=this.value.slice(0,this.selectionStart-1);return a.match(b,/^[\t ]*/mg,"",-1)}get currentLanguage(){var b=this.getNode(),c;return b=b?b.parentNode:this.code,c=a.match(b.closest('[class*="language-"]').className,/language-(\w+)/,1),a.aliases[c]||c}get context(){var b=this.currentLanguage;return a.languages[b]||a.languages.DEFAULT}update(c){var a=this.value;if(/\n$/.test(this.value)&&(a+="\u200b"),!c&&this.code.textContent===a&&b(".token",this.code))return;this.unobserve(),this.code.textContent=a,Prism.highlightElement(this.code),this.observe()}syncStyles(){var b=getComputedStyle(this.pre),c,a;this.textarea.style.caretColor=b.color,c=/^(font|lineHeight)|[tT]abSize/gi;for(a in b)b[a]&&a in this.textarea.style&&c.test(a)&&(this.wrapper.style[a]=b[a],this.textarea.style[a]=this.pre.style[a]="inherit");this.textarea.style['padding-left']=b['padding-left'],this.update()}syncScroll(){if(this.pre.clientWidth===0&&this.pre.clientHeight===0)return;this.pre.scrollTop=this.textarea.scrollTop,this.pre.scrollLeft=this.textarea.scrollLeft}beforeCaretIndex(a=""){return this.value.lastIndexOf(a,this.selectionStart)}afterCaretIndex(a=""){return this.value.indexOf(a,this.selectionEnd)}beforeCaret(b=""){var a=this.beforeCaretIndex(b);return(a===-1||!b)&&(a=0),this.value.slice(a,this.selectionStart)}getLine(g=this.selectionStart){for(var d=this.value,e="\n",f="\r",b=this.selectionStart,c,a;a=d[b];b--)if(a===e||a===f||!b)break;for(c=this.selectionStart;a=d[c];c++)if(a===e||a===f)break;return{start:b,end:c}}afterCaret(b=""){var a=this.afterCaretIndex(b);return(a===-1||!b)&&(a=void 0),this.value.slice(this.selectionEnd,a)}setCaret(a){this.selectionStart=this.selectionEnd=a}moveCaret(a){a&&this.setCaret(this.selectionEnd+a)}insert(a,{index:b}={}){var c,d;if(!a)return;this.textarea.focus(),b===void 0?this.replace(a):(c=this.selectionStart,d=this.selectionEnd,this.selectionStart=this.selectionEnd=b,this.replace(a),this.selectionStart=c+(b<c?a.length:0),this.selectionEnd=d+(b<=d?a.length:0))}replace(a){var b=this.hasSelection;this.insertText(a),b&&(this.selectionStart=this.selectionEnd-a.length)}set(a,{start:b,end:c}={}){var d=this.selectionStart,e=this.selectionEnd;this.selectionStart=b,this.selectionEnd=c,this.insertText(a),this.selectionStart=d,this.selectionEnd=e}insertText(b){if(!b)return;if(a.supportsExecCommand===!0)document.execCommand("insertText",!1,b);else if(a.supportsExecCommand===void 0){let c=this.value;document.execCommand("insertText",!1,b),a.supportsExecCommand=c!==this.value}return a.supportsExecCommand===!1&&(this.textarea.setRangeText(b,this.selectionStart,this.selectionEnd,"end"),requestAnimationFrame(()=>this.update())),a.supportsExecCommand}wrap({before:e,after:f,start:c=this.selectionStart,end:d=this.selectionEnd}={}){var a=this.selectionStart,b=this.selectionEnd,g=this.value.slice(c,d);this.set(e+g+f,{start:c,end:d}),a>c&&(a+=e.length),b>c&&(b+=e.length),a>d&&(a+=f.length),b>d&&(b+=f.length),this.selectionStart=a,this.selectionEnd=b}wrapSelection(a={}){var b=this.hasSelection;this.replace(a.before+this.selection+a.after),b?a.outside&&(this.selectionStart+=a.before.length,this.selectionEnd-=a.after.length):this.moveCaret(-a.after.length)}toggleComment(){var a=this.context.comments,f=this.getNode(),d=f.parentNode.closest(".token.comment"),c,e,b;d?(c=this.getOffset(d),e=d.textContent,a.singleline&&e.indexOf(a.singleline)===0?(b=c+e.length,this.set(this.value.slice(c+a.singleline.length,b),{start:c,end:b}),this.moveCaret(-a.singleline.length)):(a=a.multiline||a,b=c+e.length-a[1].length,this.set(this.value.slice(c+a[0].length,b),{start:c,end:b+a[1].length}))):this.hasSelection?(a=a.multiline||a,this.wrapSelection({before:a[0],after:a[1]})):(a=a.singleline?[a.singleline,""]:a.multiline||a,b=this.afterCaretIndex("\n"),this.wrap({before:a[0],after:a[1],start:this.beforeCaretIndex("\n")+1,end:b<0?this.value.length:b}))}duplicateContent(){var a=this.beforeCaret("\n"),b=this.afterCaret("\n"),c=a+this.selection+b;this.insert(c,{index:this.selectionStart-a.length})}delete(a,{forward:d,pos:b}={}){var e=a=a>0?a:(a+"").length,c;for(b&&(c=this.selectionStart,this.selectionStart=b,this.selectionEnd=b+this.selectionEnd-c);e--;)document.execCommand(d?"forwardDelete":"delete");b&&(this.selectionStart=c-a,this.selectionEnd=this.selectionEnd-b+this.selectionStart)}getNode(c=this.selectionStart,d=this.code){for(var a,b=0,e=document.createTreeWalker(d,NodeFilter.SHOW_TEXT);a=e.nextNode();)if(b+=a.data.length,b>=c)return a;return null}getOffset(b){var a=document.createRange();return a.selectNodeContents(this.code),a.setEnd(b,0),a.toString().length}static match(d,e,b,a=0){typeof b=="number"&&arguments.length===3&&(a=b,b=void 0);var c=d.match(e);return a<0&&(a=c.length+a),c?c[a]:b}static checkShortcut(b,a){return b.trim().split(/\s*\+\s*/).every(b=>{switch(b){case"Cmd":return a[g];case"Ctrl":return a.ctrlKey;case"Shift":return a.shiftKey;case"Alt":return a.altKey;default:return a.key===b}})}static registerLanguage(c,b,d=a.languages.DEFAULT){return Object.setPrototypeOf(b,d),a.languages[c]=b}static matchIndentation(a,b){a=a.replace(/\r?\n/g,"$&"+b)}static adjustIndentation(b,{indentation:d,relative:f=!0,indent:c=a.DEFAULT_INDENT}){if(!f){var e=b.match(a.regexp.gm`^(${c})+`).sort()[0];e&&b.replace(a.regexp.gm`^${e}`,"")}if(d<0)return b.replace(a.regexp.gm`^${c}`,"");if(d>0)return b.replace(/^/gm,c)}},Object.assign(a,{all:new WeakMap,ready:d,DEFAULT_INDENT:"	",CARET_INDICATOR:/(^|[^\\])\$(\d+)/g,snippets:{test:"Snippets work!"},pairs:{"(":")","[":"]","{":"}",'"':'"',"'":"'","`":"`"},shortcuts:{"Cmd + /":function(){this.toggleComment()},"Ctrl + Shift + D":function(){this.duplicateContent()}},languages:{DEFAULT:{comments:{multiline:["/*","*/"]},snippets:{}}},aliases:(()=>{var a={},d=new WeakMap(Object.entries(Prism.languages).map(a=>a.reverse()).reverse()),b,c;for(b in Prism.languages)c=Prism.languages[b],typeof c!="function"&&(a[b]=d.get(c));return a})(),regexp:(()=>{var d=a=>a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),b=(b,a,...c)=>{var e=a[0]+c.map((b,c)=>d(b)+a[c+1]).join("");return RegExp(e,b)},c={};return new Proxy(b.bind(a,""),{get:(e,d)=>e[d]||c[d]||(c[d]=b.bind(a,d))})})()}),a.supportsExecCommand=!!document.execCommand&&void 0,b.ready().then(()=>{h(":not(.prism-live) > textarea.prism-live, :not(.prism-live) > pre.prism-live").forEach(b=>{a.all.get(b)||new a(b)})})})()